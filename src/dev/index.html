<!doctype html>
<html lang="ja" class="h-screen w-screen">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>„Éû„Ç∏„Éü„É©2025</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="./style.css" />
    <script type="module" defer src="./web-components/index.ts"></script>
</head>

<body class="m-0 w-screen h-screen overflow-hidden flex">
    <aside class="w-64 h-screen bg-gray-800 text-white overflow-y-auto p-4">
        <div class="space-y-2">
            <button id="close-all-button">close all</button>
            <dev-accordion summary="text alive" open>
                <button id="force-start-button">start</button>
                <button id="pause-unpause-button">pause/unpause</button>
                <input-slider id="volume-input-slider" label="volume" min="0" max="100" step="1" value="100"></input-slider>
                <input-slider id="time-input-slider" label="time" min="0" max="100" step="1" value="100"></input-slider>
            </dev-accordion>
            <dev-accordion summary="models" id="models-accordion">
                <dev-accordion summary="dotmiku" id="model-accordion-dotmiku">
                    <toggle-switch id="model-visibility-dotmiku" label="enable"></toggle-switch>
                    <dev-accordion summary="animations" id="animations-accordion-dotmiku"></dev-accordion>
                </dev-accordion>
                <dev-accordion summary="dotmiku-tanabata" id="model-accordion-dotmiku-tanabata">
                    <toggle-switch id="model-visibility-dotmiku-tanabata" label="enable"></toggle-switch>
                    <dev-accordion summary="animations" id="animations-accordion-dotmiku-tanabata"></dev-accordion>
                </dev-accordion>
                <dev-accordion summary="room" id="model-accordion-room">
                    <toggle-switch id="model-visibility-room" label="enable"></toggle-switch>
                </dev-accordion>
            </dev-accordion>
            <dev-accordion summary="camera">
                <drop-down id="active-camera-dropdown" label="select active camera" data-options="default, front, side, top" value="default"></drop-down>
                <triple-input id="camera-add-position-input" label="add position"></triple-input>
                <button id="camera-add-position-button">AddPosition</button>
                <triple-input id="camera-set-position-input" label="set position"></triple-input>
                <button id="camera-set-position-button">SetPosition</button>
                <triple-input id="camera-add-rotation-input" label="add rotation"></triple-input>
                <button id="camera-add-rotation-button">AddRotation</button>
                <triple-input id="camera-set-rotation-input" label="set rotation"></triple-input>
                <button id="camera-set-rotation-button">SetRotation</button>
                <label>reset camera</label>
                <button id="camera-reset-button">ResetCamera</button>
                <div id="camera-position-info" class="mb-2 p-2 bg-gray-900 rounded">
                    <p class="text-xs text-gray-400 mb-1">‰ΩçÁΩÆÊÉÖÂ†±:</p>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">X: </span>
                        <span id="camera-pos-x-info" class="text-xs text-white">-</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Y: </span>
                        <span id="camera-pos-y-info" class="text-xs text-white">-</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Z: </span>
                        <span id="camera-pos-z-info" class="text-xs text-white">-</span>
                    </div>
                </div>
                <div id="camera-rotation-info" class="mb-2 p-2 bg-gray-900 rounded">
                    <p class="text-xs text-gray-400 mb-1">ÂõûËª¢ÊÉÖÂ†±:</p>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Alpha: </span>
                        <span id="camera-rot-alpha-info" class="text-xs text-white">-</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Beta: </span>
                        <span id="camera-rot-beta-info" class="text-xs text-white">-</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Radius: </span>
                        <span id="camera-rot-radius-info" class="text-xs text-white">-</span>
                    </div>
                </div>
            </dev-accordion>
            <dev-accordion summary="light">
                <dev-accordion summary="spot light">
                    <toggle-switch id="spot-light-enable" label="enable"></toggle-switch>
                    <color-picker id="spot-light-diffuse" label="diffuse"></color-picker>
                    <color-picker id="spot-light-ground-color" label="ground color"></color-picker>
                    <input-slider id="spot-light-intensity" label="intensity" min="0" max="2" step="0.1" value="0.7"></input-slider>
                    <triple-input id="spot-light-add-position-input" label="add position"></triple-input>
                    <button id="spot-light-add-position-button">AddPosition</button>
                    <triple-input id="spot-light-set-position-input" label="set position"></triple-input>
                    <button id="spot-light-set-position-button">SetPosition</button>
                </dev-accordion>
                <dev-accordion summary="point light">
                    <toggle-switch id="point-light-enable" label="enable"></toggle-switch>
                    <color-picker id="point-light-diffuse" label="diffuse"></color-picker>
                    <input-slider id="point-light-intensity" label="intensity" min="0" max="2" step="0.1" value="0.7"></input-slider>
                    <triple-input id="point-light-add-position-input" label="add light position"></triple-input>
                    <button id="point-light-add-position-button">AddPosition</button>
                    <triple-input id="point-light-set-position-input" label="set position"></triple-input>
                    <button id="point-light-set-position-button">SetPosition</button>
                    <triple-input id="point-light-add-direction-input" label="add light direction"></triple-input>
                    <button id="point-light-add-direction-button">AddDirection</button>
                    <triple-input id="point-light-set-direction-input" label="set direction"></triple-input>
                    <button id="point-light-set-direction-button">SetDirection</button>
                </dev-accordion>
                <dev-accordion summary="hemispheric light">
                    <toggle-switch id="hemispheric-light-enable" label="enable"></toggle-switch>
                    <color-picker id="hemispheric-light-diffuse" label="diffuse"></color-picker>
                    <color-picker id="hemispheric-light-ground-color" label="ground color"></color-picker>
                    <input-slider id="hemispheric-light-intensity" label="intensity" min="0" max="2" step="0.1" value="0.7"></input-slider>
                    <triple-input id="hemispheric-light-add-direction-input" label="add light direction"></triple-input>
                    <button id="hemispheric-light-add-direction-button">AddDirection</button>
                    <triple-input id="hemispheric-light-set-direction-input" label="set direction"></triple-input>
                    <button id="hemispheric-light-set-direction-button">SetDirection</button>
                </dev-accordion>
                <dev-accordion summary="light preset">
                    <button id="preset-default">
                        üîÑ „Éá„Éï„Ç©„É´„Éà„Å´Êàª„Åô
                    </button>
                    <div class="grid grid-cols-2 gap-2">
                        <button id="preset-point">point light</button>
                        <button id="preset-spot">spot light</button>
                        <button id="preset-hemispheric">hemispheric light</button>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <button id="preset-day" class="bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-white py-2 px-3 rounded shadow-md transition-all">‚òÄÔ∏è ÊòºÈñì<br><span class="text-xs opacity-80">Êòé„Çã„ÅèËá™ÁÑ∂„Å™ÂÖâ</span></button>
                        <button id="preset-night" class="bg-gradient-to-r from-blue-900 to-indigo-900 hover:from-blue-800 hover:to-indigo-800 text-white py-2 px-3 rounded shadow-md transition-all">üåô Â§úÈñì<br><span class="text-xs opacity-80">Á•ûÁßòÁöÑ„Å™ÊúàÊòé„Åã„Çä</span></button>
                        <button id="preset-sunset" class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-2 px-3 rounded shadow-md transition-all">üåÖ Â§ïÁÑº„Åë<br><span class="text-xs opacity-80">„Éâ„É©„Éû„ÉÅ„ÉÉ„ÇØ„Å™Â§ïÊó•</span></button>
                        <button id="preset-dawn" class="bg-gradient-to-r from-pink-400 to-rose-400 hover:from-pink-500 hover:to-rose-500 text-white py-2 px-3 rounded shadow-md transition-all">üåÑ ÊúùÁÑº„Åë<br><span class="text-xs opacity-80">Â∏åÊúõ„ÅÆÊúùÂÖâ</span></button>
                    </div>
                </dev-accordion>
            </dev-accordion>
            <dev-accordion summary="spectrum">
                <dev-accordion summary="circle spectrum">
                    <toggle-switch id="circle-spectrum-enable" label="enable"></toggle-switch>
                    <color-picker id="circle-spectrum-color" label="color"></color-picker>
                    <input-slider id="circle-spectrum-hue-offset" label="color delta" min="0" max="1024" step="1" value="0"></input-slider>
                    <input-slider id="circle-spectrum-opacity" label="opacity" min="0" max="100" step="1" value="0"></input-slider>
                    <input-slider id="circle-spectrum-line-counts" label="line counts" min="0" max="39" step="1" value="39"></input-slider>
                    <number-input id="circle-spectrum-min-radius" label="min radius" min="0" step="0.01" value="0.5"></number-input>
                    <number-input id="circle-spectrum-max-radius" label="max-radius" step="1" value="200"></number-input>
                    <label>add frequency</label>
                    <input-slider id="circle-spectrum-rate" label="rate" min="0" max="1" step="0.01" value="0.5"></input-slider>
                    <number-input id="circle-spectrum-strength" label="strength" min="0" max="1" step="0.01" value="0.5"></number-input>
                    <number-input id="circle-spectrum-range" label="range" min="0" max="20" step="1" value="0"></number-input>
                    <button id="circle-spectrum-add-frequency-button">Add Frequency</button>
                </dev-accordion>
                <dev-accordion summary="vertical spectrum">
                    <toggle-switch id="vertical-spectrum-enable" label="enable"></toggle-switch>
                    <color-picker id="vertical-spectrum-color" label="color"></color-picker>
                    <input-slider id="vertical-spectrum-hue-offset" label="color delta" min="0" max="1024" step="1" value="0"></input-slider>
                    <input-slider id="vertical-spectrum-opacity" label="opacity" min="0" max="100" step="1" value="0"></input-slider>
                    <input-slider id="vertical-spectrum-line-counts" label="line counts" min="0" max="39" step="1" value="39"></input-slider>
                    <number-input id="vertical-spectrum-height" label="height" min="0" step="1" value="300"></number-input>
                    <label>add frequency</label>
                    <input-slider id="vertical-spectrum-rate" label="rate" min="0" max="1" step="0.01" value="0.5"></input-slider>
                    <number-input id="vertical-spectrum-strength" label="strength" min="0" max="1" step="0.01" value="0.5"></number-input>
                    <number-input id="vertical-spectrum-range" label="range" min="0" max="20" step="1" value="0"></number-input>
                    <button id="vertical-spectrum-add-frequency-button">Add Frequency</button>
                </dev-accordion>
                <dev-accordion summary="horizontal spectrum">
                    <toggle-switch id="horizontal-spectrum-enable" label="enable"></toggle-switch>
                    <color-picker id="horizontal-spectrum-color" label="color"></color-picker>
                    <input-slider id="horizontal-spectrum-hue-offset" label="color delta" min="0" max="1024" step="1" value="0"></input-slider>
                    <input-slider id="horizontal-spectrum-opacity" label="opacity" min="0" max="100" step="1" value="0"></input-slider>
                    <input-slider id="horizontal-spectrum-line-counts" label="line counts" min="0" max="39" step="1" value="39"></input-slider>
                    <number-input id="horizontal-spectrum-width" label="width" min="0" step="1" value="300"></number-input>
                    <label>add frequency</label>
                    <input-slider id="horizontal-spectrum-rate" label="rate" min="0" max="1" step="0.01" value="0.5"></input-slider>
                    <number-input id="horizontal-spectrum-strength" label="strength" min="0" max="1" step="0.01" value="0.5"></number-input>
                    <number-input id="horizontal-spectrum-range" label="range" min="0" max="20" step="1" value="0"></number-input>
                    <button id="horizontal-spectrum-add-frequency-button">Add Frequency</button>
                </dev-accordion>
            </dev-accordion>
            <dev-accordion summary="ripple effects">
                <dev-accordion summary="circle ripple">
                    <double-input id="circle-ripple-position-input" label="position"></double-input>
                    <number-input id="circle-ripple-lifetime-input" label="lifetime" value="1000"></number-input>
                    <number-input id="circle-ripple-default-size-input" label="default size" value="0"></number-input>
                    <number-input id="circle-ripple-size-delta-input" label="size delta" value="100"></number-input>
                    <number-input id="circle-ripple-default-opacity-input" label="default opacity" value="1"></number-input>
                    <number-input id="circle-ripple-opacity-delta-input" label="opacity delta" value="0"></number-input>
                    <color-picker id="circle-ripple-color-input" label="color"></color-picker>
                    <button id="circle-ripple-generate-button">generate</button>
                </dev-accordion>
                <dev-accordion summary="square ripple">
                    <double-input id="square-ripple-position-input" label="position"></double-input>
                    <number-input id="square-ripple-lifetime-input" label="lifetime" value="1000"></number-input>
                    <number-input id="square-ripple-default-size-input" label="default size" value="0"></number-input>
                    <number-input id="square-ripple-size-delta-input" label="size delta" value="100"></number-input>
                    <number-input id="square-ripple-default-opacity-input" label="default opacity" value="1"></number-input>
                    <number-input id="square-ripple-opacity-delta-input" label="opacity delta" value="0"></number-input>
                    <color-picker id="square-ripple-color-input" label="color"></color-picker>
                    <input-slider id="square-ripple-angle-input" label="angle" min="0" max="360" value="45"></input-slider>
                    <button id="square-ripple-generate-button">generate</button>                </dev-accordion>
            </dev-accordion>            <dev-accordion summary="glitch effects">
                <div class="mb-4 p-2 bg-gray-900 rounded">
                    <p class="text-xs text-gray-400 mb-2">„Ç¢„ÇØ„ÉÜ„Ç£„Éñ„Å™„Ç∞„É™„ÉÉ„ÉÅÊï∞:</p>
                    <span id="glitch-count" class="text-lg text-green-400 font-bold">0</span>
                </div>
                  <!-- ÊâãÂãï„Ç∞„É™„ÉÉ„ÉÅÁîüÊàê -->
                <dev-accordion summary="manual glitch generation">
                    <double-input id="glitch-position-input" label="position (x, y)" value-x="100" value-y="100"></double-input>
                    <double-input id="glitch-size-input" label="size (width, height)" value-x="200" value-y="100"></double-input>
                    <input-slider id="glitch-lifetime-input" label="lifetime (seconds)" min="0.5" max="30" step="0.1" value="8"></input-slider>
                    <input-slider id="glitch-density-input" label="density" min="0" max="1" step="0.05" value="0.5"></input-slider>
                    <div class="mb-3">
                        <label class="block text-sm text-gray-300 mb-2">„Ç∞„É™„ÉÉ„ÉÅ„Çø„Ç§„Éó:</label>                        <select id="glitch-type-select" class="w-full bg-gray-800 text-white border border-gray-600 rounded px-2 py-1 text-sm">
                            <option value="mebiton">üíñ „É°„Éì„Éà„É≥„Éï„É•„Éº„ÉÅ„É£„Éº„Ç∫ (ÁâπÂà•)</option>
                            <option value="digital">üéÆ „Éá„Ç∏„Çø„É´</option>
                            <option value="pixelated">üî≤ „Éî„ÇØ„Çª„É´Âåñ</option>
                            <option value="chromatic">üåà „ÇØ„É≠„Éû„ÉÜ„Ç£„ÉÉ„ÇØ</option>
                            <option value="classic">‚ö™ „ÇØ„É©„Ç∑„ÉÉ„ÇØ</option>
                        </select>
                    </div>
                    <button id="glitch-manual-generate-button" class="w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white py-2 px-3 rounded shadow-md transition-all">
                        üéØ ÊâãÂãïÁîüÊàê
                    </button>
                </dev-accordion>
                  <!-- „Éó„É™„Çª„ÉÉ„Éà„Éú„Çø„É≥ -->
                <dev-accordion summary="glitch presets">
                    <div class="grid grid-cols-2 gap-2 mb-2">
                        <button id="glitch-preset-weak" class="bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white py-2 px-2 rounded text-xs transition-all">
                            üí´ Âº±„ÅÑ„Ç∞„É™„ÉÉ„ÉÅ
                        </button>
                        <button id="glitch-preset-strong" class="bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-white py-2 px-2 rounded text-xs transition-all">
                            ‚ö° Âº∑„ÅÑ„Ç∞„É™„ÉÉ„ÉÅ
                        </button>
                    </div>
                    <div class="grid grid-cols-2 gap-2 mb-2">
                        <button id="glitch-preset-center" class="bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white py-2 px-2 rounded text-xs transition-all">
                            üéØ ‰∏≠Â§Æ„Ç∞„É™„ÉÉ„ÉÅ
                        </button>
                        <button id="glitch-preset-random" class="bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white py-2 px-2 rounded text-xs transition-all">
                            üé≤ „É©„É≥„ÉÄ„É†
                        </button>
                    </div>
                </dev-accordion>
                
                <!-- Ëá™ÂãïÁîüÊàê -->
                <dev-accordion summary="auto generation">
                    <div class="mb-2">
                        <toggle-switch id="glitch-auto-enable" label="Ëá™ÂãïÁîüÊàê"></toggle-switch>
                    </div>                    <input-slider id="glitch-auto-interval" label="ÈñìÈöî (seconds)" min="2" max="10" step="0.5" value="3"></input-slider>
                    <input-slider id="glitch-auto-probability" label="ÁîüÊàêÁ¢∫Áéá" min="0.1" max="0.5" step="0.05" value="0.2"></input-slider>
                    <div class="grid grid-cols-2 gap-2 mb-2">
                        <button id="glitch-burst-button" class="bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 text-white py-2 px-2 rounded text-xs transition-all">
                            üí• „Éê„Éº„Çπ„Éà
                        </button>
                        <button id="glitch-storm-button" class="bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white py-2 px-2 rounded text-xs transition-all">
                            üå™Ô∏è „Çπ„Éà„Éº„É†
                        </button>
                    </div>
                </dev-accordion>
                
                <!-- „Ç≥„É≥„Éà„É≠„Éº„É´„Éú„Çø„É≥ -->
                <div class="grid grid-cols-2 gap-2 mb-4">
                    <button id="glitch-demo-button" class="bg-gradient-to-r from-red-500 to-pink-500 hover:from-red-600 hover:to-pink-600 text-white py-2 px-3 rounded shadow-md transition-all">
                        ‚ú® „Éá„É¢ÁîüÊàê
                    </button>
                    <button id="glitch-clear-button" class="bg-gradient-to-r from-gray-600 to-gray-700 hover:from-gray-700 hover:to-gray-800 text-white py-2 px-3 rounded shadow-md transition-all">
                        üóëÔ∏è ÂÖ®„ÇØ„É™„Ç¢
                    </button>
                </div>                <div class="text-xs text-gray-400 p-2 bg-gray-900 rounded">
                    <p class="mb-1">„Ç≥„É≥„ÇΩ„Éº„É´„Åß„ÉÜ„Çπ„Éà:</p>
                    <code class="text-green-400">addGlitchEffect(x, y, width, height, lifeTime, density)</code>
                    <br>
                    <code class="text-green-400">testGlitch()</code>
                    <br>
                    <code class="text-green-400">enableClickGlitch()</code>
                    <p class="mt-2 text-xs">„ÇØ„É™„ÉÉ„ÇØ„Åß„Ç∞„É™„ÉÉ„ÉÅÁîüÊàê„ÇíÊúâÂäπÂåñ</p>
                    <p class="mt-1 text-xs text-red-400">‚ö†Ô∏è ESC„Ç≠„Éº„ÅßÁ∑äÊÄ•ÂÅúÊ≠¢</p>
                </div>
            </dev-accordion>
        </div>
    </aside>
    <div class="relative flex-1">
        <canvas id="babylon-canvas" class="absolute m-0 inset-0 w-full h-full -z-10"></canvas>
        <canvas id="effects-canvas" class="absolute m-0 inset-0 w-full h-full z-10 pointer-events-none"></canvas>
        <div id="app" class="absolute inset-0 w-full h-full">
            <div id="init" class="fade flex h-full justify-center items-center flex-col">
                <h1 class="text-white text-7xl italic font-serif">Listen with Miku</h1>
                <button id="start-button" class="mt-5 px-4 py-2 bg-blue-500 text-white rounded">Start</button>
            </div>
            <div id="playing" class="fade out select-none">
                <div id="black-trim" class="absolute w-full h-full top-0 left-0 z-5">
                    <div id="black-trim-top" class="absolute w-full h-15 bg-stone-900"></div>
                    <div id="black-trim-bottom" class="absolute w-full h-25 bottom-0 bg-stone-900 flex justify-center items-center">
                        <h3 class="text-white text-4xl" id="lyrics-text"></h3>
                    </div>
                </div>
            </div>
            <div id="loading-wrapper" class="fade absolute w-full h-full top-0 left-0 bg-white/15 backdrop-blur-md flex justify-center items-center select-none">
                <div class="w-5 h-5 border-4 m-auto mx-3 border-t-transparent border-b-transparent border-white rounded-full animate-spin"></div>
                <div id="loading-text" class="text-white text-2xl">Loading...</div>
            </div>
        </div>
        <div id="media"></div>
        <script type="module" src="../index.ts"></script>
    </div>
    <script type="module" src="./controls/index.ts"></script>
</body>
</html>
