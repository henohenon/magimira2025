<!doctype html>
<html lang="ja" class="h-screen w-screen">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>マジミラ2025</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="./style.css" />
    <script type="module" defer src="./web-components/index.ts"></script>
</head>

<body class="m-0 w-screen h-screen overflow-hidden flex">
    <aside class="w-64 h-screen bg-gray-800 text-white overflow-y-auto p-4">
        <div class="space-y-2">
            <button id="close-all-button">close all</button>
            <dev-accordion summary="text alive" open>
                <button id="force-start-button">start</button>
                <button id="pause-unpause-button">pause/unpause</button>
                <input-slider id="volume-input-slider" label="volume" min="0" max="100" step="1" value="100"></input-slider>
                <input-slider id="time-input-slider" label="time" min="0" max="100" step="1" value="100"></input-slider>
            </dev-accordion>
            <dev-accordion summary="animation">
                <div class="pl-6 py-1 space-y-1" id="animationList"></div>
            </dev-accordion>
            <dev-accordion summary="camera">
                <drop-down id="active-camera-dropdown" label="select active camera" data-options="default, front, side, top" value="default"></drop-down>
                <triple-input id="camera-add-position-input" label="add position"></triple-input>
                <button id="camera-add-position-button">AddPosition</button>
                <triple-input id="camera-set-position-input" label="set position"></triple-input>
                <button id="camera-set-position-button">SetPosition</button>
                <triple-input id="camera-add-rotation-input" label="add rotation"></triple-input>
                <button id="camera-add-rotation-button">AddRotation</button>
                <triple-input id="camera-set-rotation-input" label="set rotation"></triple-input>
                <button id="camera-set-rotation-button">SetRotation</button>
                <label class="block text-gray-400 text-xs mb-1">reset camera</label>
                <button id="camera-reset-button">ResetCamera</button>
                <div id="camera-position-info" class="mb-2 p-2 bg-gray-900 rounded">
                    <p class="text-xs text-gray-400 mb-1">位置情報:</p>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">X: </span>
                        <span id="camera-pos-x-info" class="text-xs text-white">-</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Y: </span>
                        <span id="camera-pos-y-info" class="text-xs text-white">-</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Z: </span>
                        <span id="camera-pos-z-info" class="text-xs text-white">-</span>
                    </div>
                </div>
                <div id="camera-rotation-info" class="mb-2 p-2 bg-gray-900 rounded">
                    <p class="text-xs text-gray-400 mb-1">回転情報:</p>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Alpha: </span>
                        <span id="camera-rot-alpha-info" class="text-xs text-white">-</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Beta: </span>
                        <span id="camera-rot-beta-info" class="text-xs text-white">-</span>
                    </div>
                    <div class="flex justify-between mb-1">
                        <span class="text-xs text-gray-300">Radius: </span>
                        <span id="camera-rot-radius-info" class="text-xs text-white">-</span>
                    </div>
                </div>
            </dev-accordion>
            <dev-accordion summary="light">
                <dev-accordion summary="spot light">
                    <toggle-switch id="spot-light-enable" label="enable"></toggle-switch>
                    <color-picker id="spot-light-diffuse" label="diffuse"></color-picker>
                    <color-picker id="spot-light-ground-color" label="ground color"></color-picker>
                    <input-slider id="spot-light-intensity" label="intensity" min="0" max="2" step="0.1" value="0.7"></input-slider>
                    <triple-input id="spot-light-add-position-input" label="add position"></triple-input>
                    <button id="spot-light-add-position-button">AddPosition</button>
                    <triple-input id="spot-light-set-position-input" label="set position"></triple-input>
                    <button id="spot-light-set-position-button">SetPosition</button>
                </dev-accordion>
                <dev-accordion summary="point light">
                    <toggle-switch id="point-light-enable" label="enable"></toggle-switch>
                    <color-picker id="point-light-diffuse" label="diffuse"></color-picker>
                    <input-slider id="point-light-intensity" label="intensity" min="0" max="2" step="0.1" value="0.7"></input-slider>
                    <triple-input id="point-light-add-position-input" label="add light position"></triple-input>
                    <button id="point-light-add-position-button">AddPosition</button>
                    <triple-input id="point-light-set-position-input" label="set position"></triple-input>
                    <button id="point-light-set-position-button">SetPosition</button>
                    <triple-input id="point-light-add-direction-input" label="add light direction"></triple-input>
                    <button id="point-light-add-direction-button">AddDirection</button>
                    <triple-input id="point-light-set-direction-input" label="set direction"></triple-input>
                    <button id="point-light-set-direction-button">SetDirection</button>
                </dev-accordion>
                <dev-accordion summary="hemispheric light">
                    <toggle-switch id="hemispheric-light-enable" label="enable"></toggle-switch>
                    <color-picker id="hemispheric-light-diffuse" label="diffuse"></color-picker>
                    <color-picker id="hemispheric-light-ground-color" label="ground color"></color-picker>
                    <input-slider id="hemispheric-light-intensity" label="intensity" min="0" max="2" step="0.1" value="0.7"></input-slider>
                    <triple-input id="hemispheric-light-add-direction-input" label="add light direction"></triple-input>
                    <button id="hemispheric-light-add-direction-button">AddDirection</button>
                    <triple-input id="hemispheric-light-set-direction-input" label="set direction"></triple-input>
                    <button id="hemispheric-light-set-direction-button">SetDirection</button>
                </dev-accordion>
                <dev-accordion summary="light preset">
                    <button id="preset-default">
                        🔄 デフォルトに戻す
                    </button>
                    <div class="grid grid-cols-2 gap-2">
                        <button id="preset-point">point light</button>
                        <button id="preset-spot">spot light</button>
                        <button id="preset-hemispheric">hemispheric light</button>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <button id="preset-day" class="bg-gradient-to-r from-yellow-400 to-yellow-500 hover:from-yellow-500 hover:to-yellow-600 text-white py-2 px-3 rounded shadow-md transition-all">☀️ 昼間<br><span class="text-xs opacity-80">明るく自然な光</span></button>
                        <button id="preset-night" class="bg-gradient-to-r from-blue-900 to-indigo-900 hover:from-blue-800 hover:to-indigo-800 text-white py-2 px-3 rounded shadow-md transition-all">🌙 夜間<br><span class="text-xs opacity-80">神秘的な月明かり</span></button>
                        <button id="preset-sunset" class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white py-2 px-3 rounded shadow-md transition-all">🌅 夕焼け<br><span class="text-xs opacity-80">ドラマチックな夕日</span></button>
                        <button id="preset-dawn" class="bg-gradient-to-r from-pink-400 to-rose-400 hover:from-pink-500 hover:to-rose-500 text-white py-2 px-3 rounded shadow-md transition-all">🌄 朝焼け<br><span class="text-xs opacity-80">希望の朝光</span></button>
                    </div>
                </dev-accordion>
            </dev-accordion>
            <dev-accordion summary="spectrum">
                <dev-accordion summary="circle spectrum">
                    <toggle-switch id="circle-spectrum-enable" label="enable"></toggle-switch>
                    <color-picker id="circle-spectrum-color" label="color"></color-picker>
                    <input-slider id="circle-spectrum-hue-offset" label="color delta" min="0" max="1024" step="1" value="0"></input-slider>
                    <input-slider id="circle-spectrum-opacity" label="opacity" min="0" max="100" step="1" value="0"></input-slider>
                    <input-slider id="circle-spectrum-line-counts" label="line counts" min="0" max="39" step="1" value="39"></input-slider>
                    <number-input id="circle-spectrum-min-radius" label="min radius" min="0" step="0.01" value="0.5"></number-input>
                    <number-input id="circle-spectrum-max-radius" label="max-radius" step="1" value="200"></number-input>
                </dev-accordion>
                <dev-accordion summary="vertical spectrum">
                    <toggle-switch id="vertical-spectrum-enable" label="enable"></toggle-switch>
                    <color-picker id="vertical-spectrum-color" label="color"></color-picker>
                    <input-slider id="vertical-spectrum-hue-offset" label="color delta" min="0" max="1024" step="1" value="0"></input-slider>
                    <input-slider id="vertical-spectrum-opacity" label="opacity" min="0" max="100" step="1" value="0"></input-slider>
                    <input-slider id="vertical-spectrum-line-counts" label="line counts" min="0" max="39" step="1" value="39"></input-slider>
                    <number-input id="vertical-spectrum-height" label="height" min="0" step="1" value="300"></number-input>
                </dev-accordion>
                <dev-accordion summary="horizontal spectrum">
                    <toggle-switch id="horizontal-spectrum-enable" label="enable"></toggle-switch>
                    <color-picker id="horizontal-spectrum-color" label="color"></color-picker>
                    <input-slider id="horizontal-spectrum-hue-offset" label="color delta" min="0" max="1024" step="1" value="0"></input-slider>
                    <input-slider id="horizontal-spectrum-opacity" label="opacity" min="0" max="100" step="1" value="0"></input-slider>
                    <input-slider id="horizontal-spectrum-line-counts" label="line counts" min="0" max="39" step="1" value="39"></input-slider>
                    <number-input id="horizontal-spectrum-width" label="width" min="0" step="1" value="300"></number-input>
                </dev-accordion>
            </dev-accordion>
            <dev-accordion summary="ripple effects">
                <dev-accordion summary="circle ripple">
                    <double-input id="circle-ripple-position-input" label="position"></double-input>
                    <number-input id="circle-ripple-lifetime-input" label="lifetime" value="100"></number-input>
                    <number-input id="circle-ripple-default-size-input" label="default size" value="0"></number-input>
                    <number-input id="circle-ripple-size-delta-input" label="size delta" value="1"></number-input>
                    <number-input id="circle-ripple-default-opacity-input" label="default opacity" value="1"></number-input>
                    <number-input id="circle-ripple-opacity-delta-input" label="opacity delta" value="-0.01"></number-input>
                    <color-picker id="circle-ripple-color-input" label="color"></color-picker>
                    <button id="circle-ripple-generate-button">generate</button>
                </dev-accordion>
                <dev-accordion summary="square ripple">
                    <double-input id="square-ripple-position-input" label="position"></double-input>
                    <number-input id="square-ripple-lifetime-input" label="lifetime" value="100"></number-input>
                    <number-input id="square-ripple-default-size-input" label="default size" value="0"></number-input>
                    <number-input id="square-ripple-size-delta-input" label="size delta" value="1"></number-input>
                    <number-input id="square-ripple-default-opacity-input" label="default opacity" value="1"></number-input>
                    <number-input id="square-ripple-opacity-delta-input" label="opacity delta" value="-0.01"></number-input>
                    <color-picker id="square-ripple-color-input" label="color"></color-picker>
                    <input-slider id="square-ripple-angle-input" label="angle" min="0" max="360" value="45"></input-slider>
                    <button id="square-ripple-generate-button">generate</button>
                </dev-accordion>
            </dev-accordion>
        </div>
    </aside>
    <div class="relative flex-1">
        <canvas id="babylon-canvas" class="absolute m-0 inset-0 w-full h-full -z-10"></canvas>
        <canvas id="effects-canvas" class="absolute m-0 inset-0 w-full h-full -z-9"></canvas>
        <div id="app" class="absolute inset-0 w-full h-full">
            <div id="init" class="fade flex h-full justify-center items-center flex-col">
                <h1 class="text-white text-7xl italic font-serif">Listen with Miku</h1>
                <button id="start-button" class="mt-5 px-4 py-2 bg-blue-500 text-white rounded">Start</button>
            </div>
            <div id="playing" class="fade out select-none">
                <div id="black-trim" class="absolute w-full h-full top-0 left-0 z-5">
                    <div id="black-trim-top" class="absolute w-full h-15 bg-stone-900"></div>
                    <div id="black-trim-bottom" class="absolute w-full h-25 bottom-0 bg-stone-900 flex justify-center items-center">
                        <h3 class="text-white text-4xl" id="lyrics-text"></h3>
                    </div>
                </div>
            </div>
            <div id="loading-wrapper" class="fade absolute w-full h-full top-0 left-0 bg-white/15 backdrop-blur-md flex justify-center items-center select-none">
                <div class="w-5 h-5 border-4 m-auto mx-3 border-t-transparent border-b-transparent border-white rounded-full animate-spin"></div>
                <div id="loading-text" class="text-white text-2xl">Loading...</div>
            </div>
        </div>
        <div id="media"></div>
        <script type="module" src="../index.ts"></script>
    </div>
</body>
</html>
